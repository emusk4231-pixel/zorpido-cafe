<<<<<<< HEAD
{% extends 'base.html' %}
{% load static %}
{% block title %}Zorpido's Menu | Zorpido{% endblock %}
{% block meta_description %}
<!-- Meta Description -->
<meta name="description" content="Explore Zorpido's delectable menu featuring a variety of dishes crafted with passion.">
{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'menu_list/css/style.css' %}">

<!-- =====================
Hero Section
================================ -->
<section class="menu-hero-section text-center position-relative overflow-hidden">
  <div class="hero-animated-bg"></div>
  <div class="hero-particles"></div>
  <div class="container position-relative" style="z-index: 3;">
    <div class="hero-content">
      <h1 class="display-3 fw-bold text-light mb-3 hero-title">
        Our <span class="text-highlight">Delicious</span> Menu
      </h1>
      <p class="lead text-light mb-4 mx-auto hero-subtitle">
        From traditional Nepali flavors to international cuisines, explore our handcrafted dishes
      </p>
      <div class="mt-4 d-flex gap-3 justify-content-center flex-wrap">
        <a href="#menu" class="btn btn-brand-gradient rounded-pill px-5 py-3">
          <i class="bi bi-arrow-down-circle me-2"></i>Explore Menu
        </a>
        <!-- <a href="#categories" class="btn btn-glass rounded-pill px-5 py-3">
          <i class="bi bi-grid-3x3 me-2"></i>Categories
        </a> -->
      </div>
    </div>
  </div>
  <div class="hero-wave-bottom"></div>
</section>

<!-- ====================
Category Navigation
================================ -->
<div class="container mb-5" id="categories">
  <div class="category-nav-card">
    <div class="nav-header mb-3">
      <i class="bi bi-compass-fill me-2"></i>
      <span>Quick Navigation</span>
    </div>
    <div class="category-pills-wrapper">
        {% for category in categories %}
        <a href="#category-{{ category.id }}" class="category-pill">
          <span class="pill-text">{{ category.name }}</span>
          <i class="bi bi-arrow-right pill-arrow"></i>
        </a>
        {% endfor %}

        <!-- Age-restricted tabs (labels updated) -->
        <button class="category-pill age-tab" data-kind="cigarettes">
          <span class="pill-text">Ciarettees</span>
          <i class="bi bi-arrow-right pill-arrow"></i>
        </button>
        <button class="category-pill age-tab" data-kind="drinks">
          <span class="pill-text">alcoholic drinks</span>
          <i class="bi bi-arrow-right pill-arrow"></i>
        </button>
    </div>
  </div>
</div>

<!-- ===========================
Menu Section
================================ -->
<div id="menu" class="container py-4 pb-5">
  {% for category in categories %}
  <div class="category-section mb-5" id="category-{{ category.id }}">
    <!-- Enhanced Category Header -->
    <div class="category-header-enhanced mb-4">
      <div class="category-header-content">
        <div class="category-icon-box">
          <i class="bi bi-bookmark-star-fill"></i>
          <div class="icon-glow"></div>
        </div>
        <div class="category-info">
          <h2 class="category-title-enhanced">{{ category.name }}</h2>
          {% if category.description %}
          <p class="category-desc">{{ category.description }}</p>
          {% endif %}
        </div>
      </div>
      <span class="items-badge">
        <span class="badge-number">{{ category.items.all|length }}</span>
        <span class="badge-text">items</span>
      </span>
      <div class="category-line"></div>
    </div>

    <!-- Enhanced Menu Items Grid -->
    <div class="row g-4 menu-items-grid">
      {% for item in category.items.all %}
      {% if item.is_active %}
      <div class="col-lg-3 col-md-6">
        <div class="menu-card-enhanced">
          <div class="card-image-container">
            {% if item.image %}
            <img src="{{ item.image.url }}" class="menu-image" alt="{{ item.name }}">
            {% else %}
            <div class="menu-placeholder">
              <i class="bi bi-image-fill"></i>
              <span>No Image</span>
            </div>
            {% endif %}
            
            <div class="image-overlay"></div>
            
            <!-- Floating Badges -->
            <div class="floating-badges">
              {% if item.is_vegetarian %}
              <span class="float-badge veg">
                <i class="bi bi-circle-fill"></i> Veg
              </span>
              {% endif %}
              {% if item.is_spicy %}
              <span class="float-badge spicy">
                <i class="bi bi-fire"></i> Spicy
              </span>
              {% endif %}
            </div>

            {% if not item.is_in_stock %}
            <div class="stock-overlay">
              <div class="stock-badge">
                <i class="bi bi-x-circle-fill me-2"></i>
                Out of Stock
              </div>
            </div>
            {% endif %}

            <!-- Enhanced Quick View -->
            <button 
              class="quick-view-enhanced"
              data-bs-toggle="modal"
              data-bs-target="#dishModal"
              data-name="{{ item.name }}"
              data-category="{{ category.name }}"
              data-price="{{ item.price }}"
              data-description="{{ item.description }}"
              data-image="{% if item.image %}{{ item.image.url }}{% endif %}"
              data-vegetarian="{{ item.is_vegetarian }}"
              data-spicy="{{ item.is_spicy }}"
              data-instock="{{ item.is_in_stock }}"
              data-time="{{ item.preparation_time }}">
              <i class="bi bi-eye-fill"></i>
              <span>Quick View</span>
            </button>
          </div>

          <div class="card-content">
            <div class="content-header">
              <h3 class="dish-name">{{ item.name }}</h3>
              <div class="price-box">
                <span class="price">{{ item.price }}</span>
              </div>
            </div>
            <p class="dish-description">
              {{ item.description|truncatewords:12 }}
            </p>
            <div class="card-footer-enhanced">
              <div class="prep-time-enhanced">
                <i class="bi bi-clock-history"></i>
                <span>{{ item.preparation_time }} mins</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% empty %}
  <div class="empty-state-enhanced">
    <div class="empty-icon">
      <i class="bi bi-basket"></i>
    </div>
    <h3>No Menu Items Available</h3>
    <p>Check back soon for our delicious offerings!</p>
  </div>
  {% endfor %}
</div>

<div class="modal fade" id="ageModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">

      <h5 class="mb-2">Age Verification</h5>
      <p>You must be 18 years or older to view this section. Do you confirm you are 18+?</p>

      <div class="d-flex justify-content-center gap-3 mt-3">
          <button class="btn btn-outline-secondary text-danger" data-bs-dismiss="modal">Cancel</button>
        <button id="ageConfirmBtn" class="btn btn-danger">Yes, I‚Äôm 18+</button>
      </div>

    </div>
  </div>
</div>

<!-- ========================
 Dish Details Modal
================================ -->
<div class="modal fade" id="dishModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content modal-enhanced">
      <button type="button" class="modal-close-enhanced" data-bs-dismiss="modal">
        <i class="bi bi-x-lg"></i>
      </button>
      
      <div class="modal-body p-0">
        <div class="row g-0">
          <div class="col-md-5 modal-image-col">
            <div class="modal-image-box">
              <img id="modalDishImage" src="" alt="Dish" class="modal-img">
              <div class="modal-img-gradient"></div>
            </div>
          </div>
          
          <div class="col-md-7 modal-content-col">
            <div class="modal-inner-content">
              <span class="modal-category-tag">
                <i class="bi bi-tag-fill me-1"></i>
                <span id="modalDishCategory"></span>
              </span>
              
              <h2 id="modalDishName" class="modal-dish-name"></h2>
              
              <div class="modal-price-section">
                <div class="price-display">
                  <span class="price-label">Price</span>
                  <div class="price-amount">
                    <span class="curr">NPR</span>
                    <span id="modalDishPrice" class="amt"></span>
                  </div>
                </div>
              </div>
              
              <div class="modal-badges-row">
                <span id="modalDishVegetarian" class="modal-tag veg-tag d-none">
                  <i class="bi bi-circle-fill"></i> Vegetarian
                </span>
                <span id="modalDishSpicy" class="modal-tag spicy-tag d-none">
                  <i class="bi bi-fire"></i> Spicy
                </span>
                <span id="modalDishAvailable" class="modal-tag unavailable-tag d-none">
                  <i class="bi bi-x-circle"></i> Out of Stock
                </span>
              </div>
              
              <div class="modal-prep-time">
                <i class="bi bi-alarm"></i>
                <span class="prep-label">Preparation Time:</span>
                <span id="modalDishPrepTime" class="prep-value"></span>
              </div>
              
              <div class="modal-separator"></div>
              
              <div class="modal-description-section">
                <h6 class="desc-heading">About This Dish</h6>
                <p id="modalDishDescription" class="desc-text"></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
 
<script src="{% static 'menu_list/js/scripts.js' %}"></script>
<script>
  // Age-restricted tabs behaviour
  (function(){
    const ageTabs = document.querySelectorAll('.age-tab');
    let selectedKind = null;
    ageTabs.forEach(btn => {
      btn.addEventListener('click', (e) => {
        selectedKind = btn.dataset.kind;
        const ageModal = new bootstrap.Modal(document.getElementById('ageModal'));
        ageModal.show();
      });
    });

    const confirmBtn = document.getElementById('ageConfirmBtn');
    if (confirmBtn) {
      confirmBtn.addEventListener('click', () => {
        if (!selectedKind) return;
        // Open the special list in a new tab and pass age_confirm=1 to set session
        const url = `/menu/${selectedKind}/?age_confirm=1`;
        window.open(url, '_blank');
        // hide modal
        const ageModalEl = document.getElementById('ageModal');
        const ageModal = bootstrap.Modal.getInstance(ageModalEl);
        ageModal.hide();
      });
    }
  })();
</script>
=======
{% extends 'base.html' %}
{% load static %}
{% block title %}Zorpido's Menu | Zorpido{% endblock %}
{% block meta_description %}
<!-- Meta Description -->
<meta name="description" content="Explore Zorpido's delectable menu featuring a variety of dishes crafted with passion.">
{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'menu_list/css/style.css' %}">

<!-- =====================
Hero Section
================================ -->
<section class="menu-hero-section text-center position-relative overflow-hidden">
  <div class="hero-animated-bg"></div>
  <div class="hero-particles"></div>
  <div class="container position-relative" style="z-index: 3;">
    <div class="hero-content">
      <h1 class="display-3 fw-bold text-light mb-3 hero-title">
        Our <span class="text-highlight">Delicious</span> Menu
      </h1>
      <p class="lead text-light mb-4 mx-auto hero-subtitle">
        From traditional Nepali flavors to international cuisines, explore our handcrafted dishes
      </p>
      <div class="mt-4 d-flex gap-3 justify-content-center flex-wrap">
        <a href="#menu" class="btn btn-brand-gradient rounded-pill px-5 py-3">
          <i class="bi bi-arrow-down-circle me-2"></i>Explore Menu
        </a>
        <a href="#categories" class="btn btn-glass rounded-pill px-5 py-3">
          <i class="bi bi-grid-3x3 me-2"></i>Categories
        </a>
      </div>
    </div>
  </div>
  <div class="hero-wave-bottom"></div>
</section>

<!-- ====================
Category Navigation
================================ -->
<div class="container mb-5" id="categories">
  <div class="category-nav-card">
    <div class="nav-header mb-3">
      <i class="bi bi-compass-fill me-2"></i>
      <span>Quick Navigation</span>
    </div>
    <div class="category-pills-wrapper">
        {% for category in categories %}
        <a href="#category-{{ category.id }}" class="category-pill">
          <span class="pill-icon">üçΩÔ∏è</span>
          <span class="pill-text">{{ category.name }}</span>
          <i class="bi bi-arrow-right pill-arrow"></i>
        </a>
        {% endfor %}

        <!-- Age-restricted tabs -->
        <button class="category-pill age-tab" data-kind="cigarettes">
          <span class="pill-icon">üö¨</span>
          <span class="pill-text">Cigarettes</span>
          <i class="bi bi-arrow-right pill-arrow"></i>
        </button>
        <button class="category-pill age-tab" data-kind="drinks">
          <span class="pill-icon">üç∫</span>
          <span class="pill-text">Drinks</span>
          <i class="bi bi-arrow-right pill-arrow"></i>
        </button>
    </div>
  </div>
</div>

<!-- ===========================
Menu Section
================================ -->
<div id="menu" class="container py-4 pb-5">
  {% for category in categories %}
  <div class="category-section mb-5" id="category-{{ category.id }}">
    <!-- Enhanced Category Header -->
    <div class="category-header-enhanced mb-4">
      <div class="category-header-content">
        <div class="category-icon-box">
          <i class="bi bi-bookmark-star-fill"></i>
          <div class="icon-glow"></div>
        </div>
        <div class="category-info">
          <h2 class="category-title-enhanced">{{ category.name }}</h2>
          {% if category.description %}
          <p class="category-desc">{{ category.description }}</p>
          {% endif %}
        </div>
      </div>
      <span class="items-badge">
        <span class="badge-number">{{ category.items.all|length }}</span>
        <span class="badge-text">items</span>
      </span>
      <div class="category-line"></div>
    </div>

    <!-- Enhanced Menu Items Grid -->
    <div class="row g-4 menu-items-grid">
      {% for item in category.items.all %}
      {% if item.is_active %}
      <div class="col-lg-3 col-md-6">
        <div class="menu-card-enhanced">
          <div class="card-image-container">
            {% if item.image %}
            <img src="{{ item.image.url }}" class="menu-image" alt="{{ item.name }}">
            {% else %}
            <div class="menu-placeholder">
              <i class="bi bi-image-fill"></i>
              <span>No Image</span>
            </div>
            {% endif %}
            
            <div class="image-overlay"></div>
            
            <!-- Floating Badges -->
            <div class="floating-badges">
              {% if item.is_vegetarian %}
              <span class="float-badge veg">
                <i class="bi bi-circle-fill"></i> Veg
              </span>
              {% endif %}
              {% if item.is_spicy %}
              <span class="float-badge spicy">
                <i class="bi bi-fire"></i> Spicy
              </span>
              {% endif %}
            </div>

            {% if not item.is_in_stock %}
            <div class="stock-overlay">
              <div class="stock-badge">
                <i class="bi bi-x-circle-fill me-2"></i>
                Out of Stock
              </div>
            </div>
            {% endif %}

            <!-- Enhanced Quick View -->
            <button 
              class="quick-view-enhanced"
              data-bs-toggle="modal"
              data-bs-target="#dishModal"
              data-name="{{ item.name }}"
              data-category="{{ category.name }}"
              data-price="{{ item.price }}"
              data-description="{{ item.description }}"
              data-image="{% if item.image %}{{ item.image.url }}{% endif %}"
              data-vegetarian="{{ item.is_vegetarian }}"
              data-spicy="{{ item.is_spicy }}"
              data-instock="{{ item.is_in_stock }}"
              data-time="{{ item.preparation_time }}">
              <i class="bi bi-eye-fill"></i>
              <span>Quick View</span>
            </button>
          </div>

          <div class="card-content">
            <div class="content-header">
              <h3 class="dish-name">{{ item.name }}</h3>
              <div class="price-box">
                <span class="price">{{ item.price }}</span>
              </div>
            </div>
            <p class="dish-description">
              {{ item.description|truncatewords:12 }}
            </p>
            <div class="card-footer-enhanced">
              <div class="prep-time-enhanced">
                <i class="bi bi-clock-history"></i>
                <span>{{ item.preparation_time }} mins</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
  {% empty %}
  <div class="empty-state-enhanced">
    <div class="empty-icon">
      <i class="bi bi-basket"></i>
    </div>
    <h3>No Menu Items Available</h3>
    <p>Check back soon for our delicious offerings!</p>
  </div>
  {% endfor %}
</div>

<div class="modal fade" id="ageModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">

      <h5 class="mb-2">Age Verification</h5>
      <p>You must be 18 years or older to view this section. Do you confirm you are 18+?</p>

      <div class="d-flex justify-content-center gap-3 mt-3">
          <button class="btn btn-outline-secondary text-danger" data-bs-dismiss="modal">Cancel</button>
        <button id="ageConfirmBtn" class="btn btn-danger">Yes, I‚Äôm 18+</button>
      </div>

    </div>
  </div>
</div>

<!-- ========================
 Dish Details Modal
================================ -->
<div class="modal fade" id="dishModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content modal-enhanced">
      <button type="button" class="modal-close-enhanced" data-bs-dismiss="modal">
        <i class="bi bi-x-lg"></i>
      </button>
      
      <div class="modal-body p-0">
        <div class="row g-0">
          <div class="col-md-5 modal-image-col">
            <div class="modal-image-box">
              <img id="modalDishImage" src="" alt="Dish" class="modal-img">
              <div class="modal-img-gradient"></div>
            </div>
          </div>
          
          <div class="col-md-7 modal-content-col">
            <div class="modal-inner-content">
              <span class="modal-category-tag">
                <i class="bi bi-tag-fill me-1"></i>
                <span id="modalDishCategory"></span>
              </span>
              
              <h2 id="modalDishName" class="modal-dish-name"></h2>
              
              <div class="modal-price-section">
                <div class="price-display">
                  <span class="price-label">Price</span>
                  <div class="price-amount">
                    <span class="curr">NPR</span>
                    <span id="modalDishPrice" class="amt"></span>
                  </div>
                </div>
              </div>
              
              <div class="modal-badges-row">
                <span id="modalDishVegetarian" class="modal-tag veg-tag d-none">
                  <i class="bi bi-circle-fill"></i> Vegetarian
                </span>
                <span id="modalDishSpicy" class="modal-tag spicy-tag d-none">
                  <i class="bi bi-fire"></i> Spicy
                </span>
                <span id="modalDishAvailable" class="modal-tag unavailable-tag d-none">
                  <i class="bi bi-x-circle"></i> Out of Stock
                </span>
              </div>
              
              <div class="modal-prep-time">
                <i class="bi bi-alarm"></i>
                <span class="prep-label">Preparation Time:</span>
                <span id="modalDishPrepTime" class="prep-value"></span>
              </div>
              
              <div class="modal-separator"></div>
              
              <div class="modal-description-section">
                <h6 class="desc-heading">About This Dish</h6>
                <p id="modalDishDescription" class="desc-text"></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
 
<script src="{% static 'menu_list/js/scripts.js' %}"></script>
<script>
  // Age-restricted tabs behaviour
  (function(){
    const ageTabs = document.querySelectorAll('.age-tab');
    let selectedKind = null;
    ageTabs.forEach(btn => {
      btn.addEventListener('click', (e) => {
        selectedKind = btn.dataset.kind;
        const ageModal = new bootstrap.Modal(document.getElementById('ageModal'));
        ageModal.show();
      });
    });

    const confirmBtn = document.getElementById('ageConfirmBtn');
    if (confirmBtn) {
      confirmBtn.addEventListener('click', () => {
        if (!selectedKind) return;
        // Open the special list in a new tab and pass age_confirm=1 to set session
        const url = `/menu/${selectedKind}/?age_confirm=1`;
        window.open(url, '_blank');
        // hide modal
        const ageModalEl = document.getElementById('ageModal');
        const ageModal = bootstrap.Modal.getInstance(ageModalEl);
        ageModal.hide();
      });
    }
  })();
</script>
>>>>>>> df6fb379555319efdf513182b2e65dbdd28a0164
{% endblock content %}